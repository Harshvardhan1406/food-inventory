option_settings:
  aws:elasticbeanstalk:container:python:
    WSGIPath: food_inventory.wsgi:application
  aws:elasticbeanstalk:environment:proxy:
    ProxyServer: nginx

container_commands:
  01_create_log_dir:
    command: |
      mkdir -p /var/log/app-logs
      chmod 755 /var/log/app-logs

files:
  "/etc/nginx/conf.d/proxy.conf":
    mode: "000644"
    owner: root
    group: root
    content: |
      client_max_body_size 20M;
      client_header_timeout 60;
      client_body_timeout 60;
      types_hash_max_size 2048;
      types_hash_bucket_size 128; 